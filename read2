ESX = nil

ESX = exports["es_extended"]:getSharedObject()

ESX.RegisterUsableItem('ammobox_pistol', function(playerId)
    local xPlayer = ESX.GetPlayerFromId(playerId)

    TriggerClientEvent('tvoje:progressBarEvent', playerId, {
        duration = 2500,
        label = 'Otevíráš krabičku s náboji',
        useWhileDead = false,
        canCancel = false,
        disable = {
            car = false,
        },
    })
    

    local notificationData = {
        title = 'Krabička s náboji',
        description = 'Rozbalil jsi krabičku a dostal 30 nábojů',
        type = 'success',
        position = 'bottom',
        duration = '270'  -- Doba trvání notifikace v milisekundách (v tomto případě 5 sekund)
    }
    Citizen.Wait(2500)
    xPlayer.removeInventoryItem('ammobox_pistol', 1)
    xPlayer.addInventoryItem('ammo-9', 30)

    TriggerClientEvent('ox_lib:notify', playerId, notificationData)
end)


ESX.RegisterUsableItem('ammobox_sniper', function(playerId)
    local xPlayer = ESX.GetPlayerFromId(playerId)

    TriggerClientEvent('tvoje:progressBarEvent', playerId, {
        duration = 2500,
        label = 'Otevíráš krabičku s náboji',
        useWhileDead = false,
        canCancel = false,
        disable = {
            car = false,
        },
    })
    

    local notificationData = {
        title = 'Krabička s náboji',
        description = 'Rozbalil jsi krabičku a dostal 30 nábojů',
        type = 'success',
        position = 'bottom',
        duration = '270'  -- Doba trvání notifikace v milisekundách (v tomto případě 5 sekund)
    }
    Citizen.Wait(2500)
    xPlayer.removeInventoryItem('ammobox_sniper', 1)
    xPlayer.addInventoryItem('ammo-9', 30)

    TriggerClientEvent('ox_lib:notify', playerId, notificationData)
end)
